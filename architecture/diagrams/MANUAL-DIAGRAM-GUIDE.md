# GuÃ­a para Diagramas de Red Manuales

## Instrucciones para ElaboraciÃ³n de Diagramas a Mano

Este documento proporciona plantillas y especificaciones para crear los diagramas de arquitectura de red **A MANO** requeridos en el proyecto.

---

## ğŸ“‹ Diagramas Requeridos

### 1. Diagrama General de Red Multi-Sede
### 2. Diagrama Detallado de VLANs (por sede)
### 3. Diagrama de Conectividad IoT (sensores â†’ cloud)
### 4. Diagrama de Seguridad (firewalls y segmentaciÃ³n)

---

## 1ï¸âƒ£ DIAGRAMA GENERAL DE RED MULTI-SEDE

### Elementos a Dibujar

#### Sedes (8 rectÃ¡ngulos grandes):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SEDE 1 - TUNJA        â”‚
â”‚  Red: 10.0.0.0/19      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Switch Core     â”‚  â”‚
â”‚  â”‚  10.0.7.2        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚              â”‚
â”‚    [Router VPN]        â”‚
â”‚    10.0.7.4            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
       [Internet/VPN]
```

Repetir para las 8 sedes:
- Tunja (10.0.0.0/19)
- Duitama (10.0.32.0/19)
- Sogamoso (10.0.64.0/19)
- ChiquinquirÃ¡ (10.0.96.0/19)
- **BogotÃ¡ - CENTRAL** (10.0.128.0/19) â† Destacar
- ZipaquirÃ¡ (10.0.160.0/19)
- FacatativÃ¡ (10.0.192.0/19)
- FusagasugÃ¡ (10.0.224.0/19)

#### Nube Central:
```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    AWS CLOUD            â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
        â”‚  â”‚  IoT Core       â”‚    â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
        â”‚  â”‚  RDS PostgreSQL â”‚    â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
        â”‚  â”‚  DynamoDB       â”‚    â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Conexiones:
- **LÃ­nea sÃ³lida gruesa**: VPN Site-to-Site IPsec
- **LÃ­nea punteada**: Internet / Backup LTE
- **LÃ­nea doble**: Enlace principal
- Todas las sedes conectadas a BogotÃ¡ (topologÃ­a estrella)
- BogotÃ¡ conectada a AWS Cloud

#### Etiquetas en Conexiones:
```
Tunja â†â”€â”€[VPN IPsec]â”€â”€â†’ BogotÃ¡
      â””â”€â”€[LTE Backup]â”€â”€â”˜

BogotÃ¡ â†â”€â”€[VPN Primary]â”€â”€â†’ AWS
       â””â”€â”€[VPN Backup]â”€â”€â”€â”€â”˜
```

---

## 2ï¸âƒ£ DIAGRAMA DETALLADO DE VLANs (SEDE TUNJA)

### Estructura de Switch con VLANs

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ROUTER / Switch L3 â”‚
                    â”‚   Inter-VLAN        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚ Trunk
                               â”‚ (802.1Q)
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   SWITCH CORE       â”‚
                    â”‚   Cisco Catalyst    â”‚
                    â”‚   10.0.7.2          â”‚
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”˜
                          â”‚   â”‚   â”‚   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                â”‚   â”‚   â”‚   â”‚                â”‚
      VLAN 10          VLAN 20â”‚   â”‚ VLAN 50        VLAN 60
   (Sensores)          (RFID) â”‚   â”‚(GestiÃ³n)      (Usuarios)
                              â”‚   â”‚
                         VLAN 30 VLAN 40
                        (CÃ¡maras)(Edge)
```

### Detalle por VLAN (dibujar cada una):

#### VLAN 10 - Sensores (Verde)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VLAN 10 - Sensores Ambientales  â”‚
â”‚  Red: 10.0.0.0/22                 â”‚
â”‚  Gateway: 10.0.0.1                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚
â”‚  [S] [S] [S] [S] [S] [S] [S]     â”‚
â”‚  Sensores Temperatura/Humedad     â”‚
â”‚  10.0.0.10 - 10.0.0.100           â”‚
â”‚                                   â”‚
â”‚  [Gateway LoRa]                   â”‚
â”‚  10.0.6.10 (VLAN 40)              â”‚
â”‚       â†“                           â”‚
â”‚  [MQTT Broker]                    â”‚
â”‚  10.0.6.21 (VLAN 40)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Leyenda:
[S] = Sensor (dibujar termÃ³metro o similar)
```

#### VLAN 20 - RFID (Amarillo)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VLAN 20 - Lectores RFID          â”‚
â”‚  Red: 10.0.4.0/24                 â”‚
â”‚  Gateway: 10.0.4.1                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚
â”‚  [R] Bodega Entrada               â”‚
â”‚  10.0.4.10                        â”‚
â”‚                                   â”‚
â”‚  [R] Bodega Salida                â”‚
â”‚  10.0.4.11                        â”‚
â”‚                                   â”‚
â”‚  [R] CamiÃ³n 001                   â”‚
â”‚  10.0.4.20                        â”‚
â”‚       â†“                           â”‚
â”‚  [Base de Datos]                  â”‚
â”‚  10.0.6.20 (VLAN 40)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Leyenda:
[R] = Lector RFID (dibujar antena)
```

#### VLAN 30 - CÃ¡maras (Azul)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VLAN 30 - CÃ¡maras IP             â”‚
â”‚  Red: 10.0.5.0/24                 â”‚
â”‚  Gateway: 10.0.5.1                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚
â”‚  [C] Campo A - Vista General      â”‚
â”‚  10.0.5.10                        â”‚
â”‚                                   â”‚
â”‚  [C] Bodega - Entrada             â”‚
â”‚  10.0.5.11                        â”‚
â”‚                                   â”‚
â”‚  [C] PerÃ­metro - PTZ              â”‚
â”‚  10.0.5.12                        â”‚
â”‚       â†“ (PoE)                     â”‚
â”‚  [NVR Recorder]                   â”‚
â”‚  10.0.6.25 (VLAN 40)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Leyenda:
[C] = CÃ¡mara IP (dibujar cÃ¡mara)
PoE = Power over Ethernet
```

#### VLAN 40 - Servidores Edge (Rojo)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VLAN 40 - Edge Computing         â”‚
â”‚  Red: 10.0.6.0/27                 â”‚
â”‚  Gateway: 10.0.6.1                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚
â”‚  [GW] Gateway LoRa 01             â”‚
â”‚  10.0.6.10                        â”‚
â”‚                                   â”‚
â”‚  [GW] Gateway LoRa 02 (backup)    â”‚
â”‚  10.0.6.11                        â”‚
â”‚                                   â”‚
â”‚  [SRV] Servidor Edge              â”‚
â”‚  10.0.6.20                        â”‚
â”‚  - PostgreSQL Local               â”‚
â”‚  - Processing Engine              â”‚
â”‚                                   â”‚
â”‚  [MQTT] Broker Mosquitto          â”‚
â”‚  10.0.6.21                        â”‚
â”‚                                   â”‚
â”‚  [NVR] Video Storage              â”‚
â”‚  10.0.6.25                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Leyenda:
[GW] = Gateway
[SRV] = Servidor
[MQTT] = Message Broker
[NVR] = Network Video Recorder
```

#### VLAN 50 - GestiÃ³n (Gris)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VLAN 50 - GestiÃ³n de Red         â”‚
â”‚  Red: 10.0.7.0/28                 â”‚
â”‚  Gateway: 10.0.7.1                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚
â”‚  [SW] Switch Core L3              â”‚
â”‚  10.0.7.2                         â”‚
â”‚                                   â”‚
â”‚  [SW] Switch Access L2            â”‚
â”‚  10.0.7.3                         â”‚
â”‚                                   â”‚
â”‚  [RTR] Router VPN                 â”‚
â”‚  10.0.7.4                         â”‚
â”‚                                   â”‚
â”‚  [AP] WiFi Controller             â”‚
â”‚  10.0.7.5                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Leyenda:
[SW] = Switch
[RTR] = Router
[AP] = Access Point Controller
```

#### VLAN 60 - Usuarios (Naranja)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VLAN 60 - Red Usuarios           â”‚
â”‚  Red: 10.0.8.0/23                 â”‚
â”‚  Gateway: 10.0.8.1                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚
â”‚  [PC] [PC] [PC] PCs Escritorio    â”‚
â”‚  10.0.8.10 - 10.0.8.50            â”‚
â”‚                                   â”‚
â”‚  [LT] [LT] Laptops                â”‚
â”‚  DHCP Pool: 10.0.8.100 - 200      â”‚
â”‚                                   â”‚
â”‚  [AP] [AP] WiFi Access Points     â”‚
â”‚  WPA3-Enterprise                  â”‚
â”‚                                   â”‚
â”‚  [PR] Impresoras                  â”‚
â”‚  10.0.8.240 - 250                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Leyenda:
[PC] = PC Escritorio
[LT] = Laptop
[AP] = Access Point WiFi
[PR] = Impresora
```

---

## 3ï¸âƒ£ DIAGRAMA DE CONECTIVIDAD IoT (SENSOR â†’ CLOUD)

### Flujo de Datos Completo

```
CAMPO                    EDGE                    CLOUD
â”€â”€â”€â”€â”€â”€                   â”€â”€â”€â”€                    â”€â”€â”€â”€â”€

[Sensor Temp]                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                           â”‚   AWS    â”‚
    â”‚ LoRa 915MHz                               â”‚  Cloud   â”‚
    â†“                                           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
[Gateway LoRa]                                       â”‚
10.0.6.10               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
    â”‚                   â”‚  Servidor    â”‚             â”‚
    â”‚ MQTT (1883)       â”‚    Edge      â”‚             â”‚
    â†“                   â”‚  10.0.6.20   â”‚             â”‚
[MQTT Broker]           â”‚              â”‚             â”‚
10.0.6.21 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ PostgreSQL   â”‚             â”‚
    â”‚                   â”‚   Local      â”‚             â”‚
    â”‚                   â”‚              â”‚             â”‚
    â”‚                   â”‚ Processing   â”‚             â”‚
    â”‚                   â”‚   Rules      â”‚             â”‚
    â”‚                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
    â”‚                          â”‚                     â”‚
    â”‚                          â”‚ MQTTS (8883)        â”‚
    â”‚                          â”‚ TLS 1.3             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                                     â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”
                        â”‚      AWS IoT Core            â”‚
                        â”‚      mqtt.aws.com:8883       â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
                                                     â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚                â”‚            â”‚
                                    â†“                â†“            â†“
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ Lambda   â”‚    â”‚DynamoDB  â”‚  â”‚   RDS    â”‚
                            â”‚Functions â”‚    â”‚TelemetrÃ­aâ”‚  â”‚PostgreSQLâ”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚                â”‚            â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                     â”‚
                                                     â†“
                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                            â”‚  Frontend    â”‚
                                            â”‚  Dashboard   â”‚
                                            â”‚ CloudFront   â”‚
                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Protocolos en Cada Capa

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CAPA FÃSICA                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ LoRa 915 MHz (campo â†’ gateway)                       â”‚
â”‚  â€¢ WiFi 2.4/5 GHz (bodegas, cÃ¡maras)                    â”‚
â”‚  â€¢ Ethernet Gigabit (servidores)                        â”‚
â”‚  â€¢ LTE/5G (backup)                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CAPA DE RED                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ IPv4 (10.0.0.0/16 privado)                          â”‚
â”‚  â€¢ VLANs 802.1Q                                         â”‚
â”‚  â€¢ OSPF (routing dinÃ¡mico)                              â”‚
â”‚  â€¢ VPN IPsec (site-to-site)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CAPA DE TRANSPORTE                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ TCP (confiabilidad)                                  â”‚
â”‚  â€¢ TLS 1.3 (seguridad)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CAPA DE APLICACIÃ“N                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ MQTT (telemetrÃ­a sensores)                           â”‚
â”‚  â€¢ HTTPS/REST (APIs)                                    â”‚
â”‚  â€¢ WebSocket (tiempo real)                              â”‚
â”‚  â€¢ RTSP (streaming video)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4ï¸âƒ£ DIAGRAMA DE SEGURIDAD

### Capas de Seguridad

```
                    INTERNET
                       â”‚
                [FIREWALL 1]
              Perimetral - BogotÃ¡
           (Bloqueo entrada no autorizada)
                       â”‚
                  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
                  â”‚   DMZ   â”‚ VLAN 70
                  â”‚ 10.0.141â”‚
                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                       â”‚
                [FIREWALL 2]
              Interno - BogotÃ¡
         (InspecciÃ³n profunda de paquetes)
                       â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚          â”‚          â”‚
         VLAN 45    VLAN 40    VLAN 60
       Servidores    Edge      Usuarios
                       â”‚
                [FIREWALL 3]
              SegmentaciÃ³n VLANs
         (Control inter-VLAN routing)
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚              â”‚
     VLAN 10        VLAN 20        VLAN 30
    Sensores        RFID          CÃ¡maras
    (Aislado)      (Aislado)     (Aislado)
```

### Reglas de Firewall por Capa

#### Firewall Perimetral (Internet â†’ DMZ)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REGLAS FIREWALL PERIMETRAL              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… PERMIT: Internet â†’ DMZ:443 (HTTPS)  â”‚
â”‚  âœ… PERMIT: Internet â†’ DMZ:80 (HTTP)    â”‚
â”‚  âœ… PERMIT: VPN IPs â†’ VPN:1194 (OpenVPN)â”‚
â”‚  âŒ DENY:   Internet â†’ Redes internas   â”‚
â”‚  âŒ DENY:   All other traffic           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Firewall Interno (DMZ â†’ Core)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REGLAS FIREWALL INTERNO                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… PERMIT: DMZ â†’ VLAN 45:443 (API)     â”‚
â”‚  âœ… PERMIT: DMZ â†’ VLAN 45:5432 (DB)     â”‚
â”‚  âŒ DENY:   DMZ â†’ VLAN 10,20,30 (IoT)   â”‚
â”‚  âŒ DENY:   DMZ â†’ VLAN 50 (GestiÃ³n)     â”‚
â”‚  âœ… PERMIT: VLAN 60 â†’ Internet:80,443   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Firewall Inter-VLAN
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REGLAS INTER-VLAN                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… PERMIT: VLAN 10 â†’ VLAN 40:1883      â”‚
â”‚            (Sensores â†’ MQTT)             â”‚
â”‚  âœ… PERMIT: VLAN 20 â†’ VLAN 40:5432      â”‚
â”‚            (RFID â†’ Database)             â”‚
â”‚  âœ… PERMIT: VLAN 30 â†’ VLAN 40:554       â”‚
â”‚            (CÃ¡maras â†’ NVR)               â”‚
â”‚  âœ… PERMIT: VLAN 50 â†’ ALL (GestiÃ³n)     â”‚
â”‚  âŒ DENY:   VLAN 10 â†” VLAN 20           â”‚
â”‚  âŒ DENY:   VLAN 10 â†” VLAN 30           â”‚
â”‚  âŒ DENY:   VLAN 20 â†” VLAN 30           â”‚
â”‚  âŒ DENY:   VLAN 60 â†’ VLAN 10,20,30     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mecanismos de Seguridad

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AUTENTICACIÃ“N Y CIFRADO                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  [Certificado X.509]                        â”‚
â”‚       â†“                                     â”‚
â”‚  Sensor/Device                              â”‚
â”‚       â†“                                     â”‚
â”‚  TLS 1.3 Handshake                         â”‚
â”‚       â†“                                     â”‚
â”‚  MQTT Broker (mTLS)                        â”‚
â”‚       â†“                                     â”‚
â”‚  AWS IoT Core                               â”‚
â”‚  (Mutual TLS Authentication)                â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SEGMENTACIÃ“N DE RED                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  â€¢ VLANs aisladas por funciÃ³n               â”‚
â”‚  â€¢ Firewalls entre segmentos                â”‚
â”‚  â€¢ ACLs en routers y switches               â”‚
â”‚  â€¢ Private Subnets en AWS VPC               â”‚
â”‚  â€¢ Security Groups por servicio             â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MONITOREO Y DETECCIÃ“N                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  â€¢ IDS/IPS (Suricata) en gateways           â”‚
â”‚  â€¢ AWS GuardDuty (amenazas cloud)           â”‚
â”‚  â€¢ CloudWatch Logs (auditorÃ­a)              â”‚
â”‚  â€¢ SIEM centralizado                        â”‚
â”‚  â€¢ Alertas en tiempo real (SNS)             â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ CHECKLIST PARA DIAGRAMAS MANUALES

### Antes de Escanear, Verificar:

- [ ] **TÃ­tulo claro** en cada diagrama
- [ ] **Leyenda** con sÃ­mbolos utilizados
- [ ] **Direcciones IP** de elementos clave
- [ ] **Nombres de VLANs** con IDs
- [ ] **Flechas direccionales** (entrada/salida)
- [ ] **Protocolos** indicados en conexiones
- [ ] **Puertos** especificados cuando sea relevante
- [ ] **Etiquetas legibles** con letra clara
- [ ] **Colores diferenciados** por funciÃ³n/VLAN
- [ ] **Escala proporcionada** (si aplica)

### SÃ­mbolos Recomendados:

```
[â—‹]  = Sensor
[â–¡]  = Switch
[â—‡]  = Router
[â–³]  = Firewall
[â˜]  = Cloud
[â–­]  = Servidor
[â–¢]  = PC/Usuario
[â—]  = CÃ¡mara
[âš¡]  = Gateway/Bridge
[â—ˆ]  = Access Point WiFi
```

### Colores Sugeridos:

- **Verde**: Sensores IoT (VLAN 10)
- **Amarillo**: RFID (VLAN 20)
- **Azul**: CÃ¡maras (VLAN 30)
- **Rojo**: Servidores crÃ­ticos (VLAN 40)
- **Gris**: GestiÃ³n (VLAN 50)
- **Naranja**: Usuarios (VLAN 60)
- **Negro**: LÃ­neas de conexiÃ³n general
- **Rojo discontinuo**: Firewall/bloqueo

---

## ğŸ“¸ ESPECIFICACIONES PARA ESCANEO

### Calidad de Imagen:
- **ResoluciÃ³n mÃ­nima**: 300 DPI
- **Formato**: PDF o JPG
- **TamaÃ±o**: Papel carta u oficio
- **OrientaciÃ³n**: Horizontal (landscape) preferible

### OrganizaciÃ³n:
```
/architecture/diagrams/manual/
  â”œâ”€â”€ 01-red-general-multisede.pdf
  â”œâ”€â”€ 02-vlans-detallado-tunja.pdf
  â”œâ”€â”€ 03-conectividad-iot-flujo.pdf
  â””â”€â”€ 04-seguridad-firewalls.pdf
```

---

## âœï¸ PLANTILLA DE INFORMACIÃ“N MÃNIMA

### En cada diagrama incluir:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  SISTEMA IoT AGRICULTURA INTELIGENTE                 â•‘
â•‘  Diagrama: [NOMBRE DEL DIAGRAMA]                     â•‘
â•‘  Fecha: Noviembre 2025                               â•‘
â•‘  Autor: Daniel Araque                                â•‘
â•‘  Universidad Militar Nueva Granada                   â•‘
â•‘  MecatrÃ³nica - Comunicaciones                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Notas al pie:
- Indicar escalas si aplica
- Especificar convenciones de colores
- Listar supuestos tÃ©cnicos importantes
- Incluir referencias a documentaciÃ³n complementaria
